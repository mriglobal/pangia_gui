{% extends "one_column.html" %}
{% block app_styles %}{% endblock %}
{% block app_main_content %}
<div class="p-5">

	{% include "include/messages.html" %}

	<div>
		<div class="card-header bg-ngreen shadow">
            <h3 class="m-0 p-0">Users</h3>
        </div>
		<table class="table table-striped">
			<thead class="thead-dark">
				<tr>
					<th scope="col">&nbsp;</th>
					<th scope="col">First Name</th>
					<th scope="col">Last Name</th>
					<th scope="col">Username</th>
					<th scope="col">Email</th>
					<th scope="col">Last Login</th>
					<th scole="col">Roles</th>
					<!--<th scope="col">Active</th>-->
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
                {% for user in users %}
                <tr>
                    <th>{{ user.id }}</th>
                    <td>{{ user.fname }}</td>
					<td>{{ user.lname }}</td>
                    <td>{{ user.username }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.last_seen }}</td>
                    <td>{%  for x in user.get_roles() %}{{ x + ' ' }}{% endfor %}</td>
                    <!--<td>{{ user.active }}</td>-->
                    <!--<td class="text-right">
                        <a href="/users/edit-user?user={{ user.id }}" class="btn btn-primary"><i class="fas fa-edit"></i></a>
                        <a href="/users/delete-user?user={{ user.id }}" class="btn btn-danger btn-muted"><i class="fas fa-trash-alt"></i></a>
                    </td>-->
                    <td></td>
                </tr>
                {% endfor %}
				<tr>
					<form action="" method="post" novalidate>
					{{ form1.hidden_tag() }}
					<td></td>
					<td>
						{% if not form1.fname.errors %}
						{{ form1.fname(class="form-control", placeholder='First Name') }}
						{% else %}
						{{ form1.fname(class="form-control is-invalid", placeholder='First Name') }}
						{% endif %}
						<span class="invalid-feedback">First name is required.</span>
					</td>
					<td>
						{% if not form1.lname.errors %}
						{{ form1.lname(class="form-control", placeholder='Last Name') }}
						{% else %}
						{{ form1.lname(class="form-control is-invalid", placeholder='Last Name') }}
						{% endif %}
						<span class="invalid-feedback">Last name is required.</span>
					</td>
					<td>
						{% if not form1.username.errors %}
						{{ form1.username(class="form-control", placeholder='Username') }}
						{% else %}
						{{ form1.username(class="form-control is-invalid", placeholder='Username') }}
						{% endif %}
						<span class="invalid-feedback">Username is required and must be unique.</span>
					</td>
					<td>
						{% if not form1.email.errors %}
						{{ form1.email(class="form-control", placeholder='Email') }}
						{% else %}
						{{ form1.email(class="form-control is-invalid", placeholder='Email') }}
						{% endif %}
						<span class="invalid-feedback">Email is required and must be unique.</span>
					</td>
					<td colspan="2">
						{% if not form1.password.errors %}
						{{ form1.password(class="form-control", placeholder='Password') }}
						{% else %}
						{{ form1.password(class="form-control is-invalid", placeholder='Password') }}
						{% endif %}
						<span class="invalid-feedback">Password is required.</span>
					</td>
					<td colspan="2">
						{{ form1.submit(class="btn btn-primary") }}
					</td>
					</form>
				</tr>
            </tbody>
        </table>
    </div>

</div>
{% endblock %}
{% block app_more_scripts %}{% endblock %}